kernel:
  image: linuxkit/kernel:4.9.70
  cmdline: "console=tty0 console=ttyS0 console=ttyAMA0 init=/bin/sh debug"
init:
  #- linuxkit/init:9250948d0de494df8a811edb3242b4584057cfe4
  #- linuxkit/runc:abc3f292653e64a2fd488e9675ace19a55ec7023
  #- linuxkit/containerd:e58a382c33bb509ba3e0e8170dfaa5a100504c5b
  #- linuxkit/ca-certificates:de21b84d9b055ad9dcecc57965b654a7a24ef8e0
  - iidlx/openrc:aa84bfd0c39cbc4665f4e2ac10083b38aed1952a-dirty
  - iidlx/sshd:59f29792a78bf8392271cb27a09f05be0be39edb-dirty
files:
  - path: etc/containerd/config.toml
    contents: |
      state = "/run/containerd"
      root = "/var/lib/containerd"
      snapshotter = "io.containerd.snapshotter.v1.overlayfs"
      differ = "io.containerd.differ.v1.base-diff"
      subreaper = false

      [grpc]
      address = "/run/containerd/containerd.sock"
      uid = 0
      gid = 0

      [debug]
      address = "/run/containerd/debug.sock"
      level = "info"

      [metrics]
      address = ":13337"
  - path: root/.ssh/authorized_keys
    contents: |
      ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCnxGbWpxBQoomQ4hD4eO5HnxM9olcoZbs70hMWHw/e5aErfyqp770GNdNe2HTWOV4pcJewCfo/F0I4xm5HIEVlEE4ml45nBMwiy9btHQ47nyXxrSln+WPpDdnv2/H154JQgrmDCrU3uj2sQGaLFGKsVZ08+XfefVC/uG056GQxco2mA/aASZ7eudPZ4lP6/Hw2O3Qz+dUW0QhYPfCUCfvb80AKpGRAwPoiWsB4AfVUKD1mXrkmVMs4LMT4GJAoIgxKcOxw5796m1YdUdsxAW62fUpO2+xUsjw7FD5HqfckqsNyijKWt9E0gZAtNDAIsOe/HGc7B9M31WK3Fy7FQjep root@twt084pc
    mode: "0600"
    optional: true
  - path: etc/linuxkit-config
    metadata: yaml
  - path: usr/bin/dockerd
    source: ~/docker/dockerd
    mode: "0777"
  - path: usr/bin/docker
    source: ~/docker/docker
    mode: "0777"
  - path: usr/bin/docker-init
    source: ~/docker/docker-init
    mode: "0777"
  - path: /etc/docker
    symlink: "/var/docker"
  #- path: /etc/init.d/docker-init.sh
  #  source: ~/debian-kubernetes/docker-init.sh
  #  mode: "0777"
trust:
  org:
    - linuxkit
    - library
